@if (isVisible()) {
<div class="login-overlay" (click)="onClose()">
  <div class="login-modal" (click)="stopPropagation($event)">
    <button class="close-btn" (click)="onClose()" title="Cerrar Ventana">&times;</button>

    <div class="logo-container-modal">
      <img [src]="'assets/img/' + logoPaht" alt="Logo" class="login-logo" />
    </div>

    <h2 class="welcome-title">BIENVENIDO</h2>
    <p class="welcome-subtitle">Es el momento de comenzar tu PRIMER PASO</p>

    @if (error) {
    <div class="alert error-alert">{{ error }}</div>
    } @if (exito) {
    <div class="alert success-alert">{{ exito }}</div>
    }

    <form (ngSubmit)="onLogin()">
      <div class="form-group">
        <label for="email">Email:</label>
        <input
          type="email"
          id="email"
          [(ngModel)]="email"
          (ngModelChange)="onEmailChange()"
          name="email"
          placeholder="ejemplo@correo.com"
          required
          class="form-input"
          [class.input-error]="emailError"
          [disabled]="cargando"
        />
        @if (emailError) {
        <span class="field-error">{{ emailError }}</span>
        }
      </div>

      <div class="form-group">
        <label for="password">Contraseña:</label>
        <input
          type="password"
          id="password"
          [(ngModel)]="password"
          (ngModelChange)="onPasswordChange()"
          name="password"
          placeholder="•••••••"
          required
          class="form-input"
          [class.input-error]="passwordError"
          [disabled]="cargando"
        />
        @if (passwordError) {
        <span class="field-error">{{ passwordError }}</span>
        }
        <div class="password-hint">
          <small>Mínimo 6 caracteres, debe contener letras y números</small>
        </div>
      </div>

      <a href="#" class="forgot-password">¿Olvidaste tu contraseña?</a>

      <button type="submit" class="login-submit-btn" [disabled]="cargando">
        @if (cargando) { Cargando... } @else { Iniciar Sesión }
      </button>
    </form>
  </div>
</div>
}
