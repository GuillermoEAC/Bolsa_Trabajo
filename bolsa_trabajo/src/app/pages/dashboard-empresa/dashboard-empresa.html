<div class="dashboard-container">
  <aside class="sidebar">
    <div class="logo-area">游끽 Panel Empresa</div>
    <nav>
      <a class="nav-item active">Resumen</a>
      <a class="nav-item" routerLink="/mis-vacantes">Mis Vacantes</a>
      <a class="nav-item">Candidatos</a>
      <a class="nav-item logout" (click)="logout()">Cerrar Sesi칩n</a>
    </nav>
  </aside>

  <main class="content">
    <header>
      <h1>Bienvenido al Reclutamiento</h1>
      <p>Usuario: {{ usuario?.email }}</p>
    </header>

    <div *ngIf="loading" class="loading-state">
      <div class="spinner"></div>
      <p>Cargando estad칤sticas...</p>
    </div>

    <!-- ESTAD칈STICAS -->
    <div *ngIf="!loading && stats" class="stats-grid">
      <div class="stat-card">
        <div class="stat-icon blue">
          <app-icon name="Briefcase"></app-icon>
        </div>
        <div class="stat-info">
          <span class="stat-number">{{ stats.totalVacantes }}</span>
          <span class="stat-label">Vacantes Publicadas</span>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon green">
          <app-icon name="Users"></app-icon>
        </div>
        <div class="stat-info">
          <span class="stat-number">{{ stats.totalPostulaciones }}</span>
          <span class="stat-label">Postulaciones Recibidas</span>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon purple">
          <app-icon name="TrendUp"></app-icon>
        </div>
        <div class="stat-info">
          <span class="stat-number">{{
            stats.totalVacantes > 0
              ? (stats.totalPostulaciones / stats.totalVacantes).toFixed(1)
              : 0
          }}</span>
          <span class="stat-label">Promedio por Vacante</span>
        </div>
      </div>
    </div>

    <!-- VACANTES M츼S POPULARES -->
    <div
      *ngIf="
        !loading && stats && stats.vacantesMasPostuladas && stats.vacantesMasPostuladas.length > 0
      "
      class="popular-section"
    >
      <h3>Vacantes m치s Populares</h3>
      <div class="popular-list">
        <div *ngFor="let vacante of stats.vacantesMasPostuladas" class="popular-item">
          <span class="popular-title">{{ vacante.titulo_cargo }}</span>
          <span class="popular-count">{{ vacante.postulaciones }} postulaciones</span>
        </div>
      </div>
    </div>

    <!-- BOT칍N DE ACCI칍N -->
    <div *ngIf="!loading" class="action-section">
      <button class="btn-primary" routerLink="/publicar-vacante">
        <app-icon name="Plus"></app-icon> Publicar Nueva Vacante
      </button>
    </div>

    <!-- EMPTY STATE -->
    <div *ngIf="!loading && !stats" class="empty-state">
      <h2>游 Tu Dashboard est치 listo</h2>
      <p>Aqu칤 es donde gestionar치s tus ofertas de empleo y candidatos.</p>
      <button class="btn-primary" routerLink="/publicar-vacante">Publicar Nueva Vacante</button>
    </div>
  </main>
</div>
