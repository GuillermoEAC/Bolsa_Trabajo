<header class="main-header">
  <div class="logo-container">
    <img src="assets/img/Logo_Completo.png" alt="Primer Paso Logo" routerLink="/welcome" />
  </div>

  <div class="header-actions">
    @if (!currentUser) {
    <a class="link-empresa" routerLink="/registro-empresa">Soy Empresa / Reclutador</a>
    <a class="button crear-cv" routerLink="/cv-builder">Crear CV</a>
    <button class="button login" (click)="openLogin()">Login</button>
    } @else {
    <div class="user-controls">
      <button class="icon-btn notification-btn">ğŸ””</button>
      <a routerLink="/mis-postulaciones" class="dropdown-item" (click)="isMenuOpen = false">
        ğŸ“„ Mis Postulaciones
      </a>
      <div class="profile-dropdown-container">
        <div class="user-profile" (click)="toggleMenu()">
          <span class="user-name">{{ currentUser.email.split('@')[0] }}</span>
          <div class="user-avatar">
            {{ currentUser.email[0] | uppercase }}
          </div>
          <span class="dropdown-arrow">â–¼</span>
        </div>

        @if (isMenuOpen) {
        <div class="dropdown-menu">
          <div class="dropdown-header">
            Hola, <strong>{{ currentUser.email.split('@')[0] }}</strong>
          </div>

          <a routerLink="/welcome" class="dropdown-item" (click)="isMenuOpen = false">
            ğŸ‘¤ Mi Perfil
          </a>

          <a href="#" class="dropdown-item" (click)="isMenuOpen = false"> âš™ï¸ ConfiguraciÃ³n </a>

          <div class="dropdown-divider"></div>

          <button class="dropdown-item text-danger" (click)="logout()">ğŸšª Cerrar SesiÃ³n</button>
        </div>
        }
      </div>
    </div>
    }
  </div>
</header>

<app-login [isVisible]="isModalVisible" (close)="closeLogin()"></app-login>
